<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–∞–º–µ–Ω—å-–ù–æ–∂–Ω–∏—Ü—ã-–ë—É–º–∞–≥–∞ Online</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/cards.css">
  <link rel="stylesheet" href="css/animations.css">
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading-screen" class="loading-screen">
    <div class="loading-content">
      <div class="loader large"></div>
      <p>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É...</p>
    </div>
  </div>

  <!-- Theme toggle -->
  <button id="theme-toggle" class="theme-toggle" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">
    <span class="theme-icon">üåô</span>
  </button>

  <div class="app-container">
    <!-- Lobby Screen -->
    <div id="lobby-screen" class="screen">
      <div class="lobby-container">
        <h1 class="game-title">
          <span class="title-rock">ü™®</span>
          <span class="title-scissors">‚úÇÔ∏è</span>
          <span class="title-paper">üìÑ</span>
          <br>
          –ö–∞–º–µ–Ω—å-–ù–æ–∂–Ω–∏—Ü—ã-–ë—É–º–∞–≥–∞ v2
        </h1>
        
        <a href="#" id="rules-link" class="rules-link">
          <span class="rules-icon">üìñ</span> –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã
        </a>
        
        <div class="lobby-card">
          <div class="name-input-section">
            <label for="player-name">–í–∞—à–µ –∏–º—è</label>
            <input type="text" id="player-name" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è..." maxlength="20">
          </div>
          
          <div class="lobby-actions">
            <button id="create-lobby-btn" class="btn btn-primary">
              <span class="btn-icon">+</span>
              –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É
            </button>
            
            <div class="divider">
              <span>–∏–ª–∏</span>
            </div>
            
            <div class="join-section">
              <input type="text" id="lobby-code" placeholder="–ö–æ–¥" maxlength="6">
              <button id="join-lobby-btn" class="btn btn-secondary">
                –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
              </button>
            </div>
          </div>
        </div>
        
        <div id="waiting-section" class="waiting-section hidden">
          <div class="waiting-card">
            <div class="loader"></div>
            <p>–û–∂–∏–¥–∞–Ω–∏–µ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞...</p>
            <div class="lobby-code-display clickable" id="lobby-code-copy" title="–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å">
              –ö–æ–¥: <strong id="display-lobby-code">------</strong>
            </div>
            <p class="share-hint">–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–æ–¥, —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</p>
            <button id="leave-lobby-btn" class="btn btn-secondary btn-small">–ü–æ–∫–∏–Ω—É—Ç—å</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Cards Preview Screen -->
    <div id="preview-screen" class="screen">
      <div class="game-header">
        <div class="timer-container">
          <div class="timer-circle">
            <svg viewBox="0 0 100 100">
              <circle class="timer-bg" cx="50" cy="50" r="45"/>
              <circle class="timer-progress" cx="50" cy="50" r="45"/>
            </svg>
            <span id="preview-timer" class="timer-text">10</span>
          </div>
          <span class="timer-label">–ò–∑—É—á–∏—Ç–µ –∫–∞—Ä—Ç—ã</span>
        </div>
      </div>
      
      <div class="preview-container">
        <p class="instruction">–ò–∑—É—á–∏—Ç–µ –∫–∞—Ä—Ç—ã —Å–æ–ø–µ—Ä–Ω–∏–∫–∞. –°–∫–æ—Ä–æ –Ω–∞—á–Ω—ë—Ç—Å—è —Å–±–æ—Ä –≤–∞—à–µ–π —Ä—É–∫–∏.</p>
        
        <div class="preview-cards-section">
          <div class="preview-player-area">
            <span class="preview-label" id="preview-opponent-label">–ö–∞—Ä—Ç—ã —Å–æ–ø–µ—Ä–Ω–∏–∫–∞</span>
            <div class="card-row preview-cards" id="preview-opponent-cards"></div>
          </div>
          
          <div class="preview-player-area">
            <span class="preview-label" id="preview-player-label">–í–∞—à–∏ –∫–∞—Ä—Ç—ã</span>
            <div class="card-row preview-cards" id="preview-player-cards"></div>
          </div>
        </div>
      </div>
      
      <div class="action-bar fixed-footer game-footer">
        <button id="preview-ready-btn" class="btn btn-primary">
          ‚úì –ì–æ—Ç–æ–≤
        </button>
        <p id="preview-status" class="preview-status"></p>
      </div>
    </div>

    <!-- Sequence Setup Screen -->
    <div id="sequence-screen" class="screen">
      <div class="game-header">
        <div class="timer-container">
          <div class="timer-circle">
            <svg viewBox="0 0 100 100">
              <circle class="timer-bg" cx="50" cy="50" r="45"/>
              <circle class="timer-progress" cx="50" cy="50" r="45"/>
            </svg>
            <span id="sequence-timer" class="timer-text">60</span>
          </div>
          <span class="timer-label">–†–∞—Å—Å—Ç–∞–≤—å—Ç–µ –∫–∞—Ä—Ç—ã</span>
        </div>
      </div>
      
      <div class="sequence-container">
        <p class="instruction">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∫–∞—Ä—Ç—ã, —á—Ç–æ–±—ã —Ä–∞—Å—Å—Ç–∞–≤–∏—Ç—å –∏—Ö –≤ –Ω—É–∂–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ. –ü–µ—Ä–≤–∞—è –∫–∞—Ä—Ç–∞ –±—É–¥–µ—Ç —Å—ã–≥—Ä–∞–Ω–∞ –≤ 1-–º —Ä–∞—É–Ω–¥–µ.</p>
        
        <div class="sequence-slots" id="sequence-slots">
          <!-- Slots will be populated by JS -->
        </div>
        
        <div class="hand-cards" id="hand-cards">
          <!-- Cards will be populated by JS -->
        </div>
      </div>
      
      <div class="action-bar fixed-footer game-footer">
        <button id="confirm-sequence-btn" class="btn btn-primary" disabled>
          –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Ä–∞—Å—Å—Ç–∞–Ω–æ–≤–∫—É
        </button>
      </div>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen">
      <div class="game-header">
        <div class="player-info self-info">
          <span id="player-name-display" class="player-name">–í—ã</span>
          <span id="player-score" class="player-score">0</span>
          <div class="swap-indicator">
            <span id="player-swaps">‚ö°‚ö°‚ö°</span>
          </div>
        </div>
        
        <div class="round-info">
          <div class="timer-container small">
            <div class="timer-circle">
              <svg viewBox="0 0 100 100">
                <circle class="timer-bg" cx="50" cy="50" r="45"/>
                <circle class="timer-progress" cx="50" cy="50" r="45"/>
              </svg>
              <span id="game-timer" class="timer-text">20</span>
            </div>
          </div>
          <span class="round-label">–†–∞—É–Ω–¥ <span id="current-round">1</span>/6</span>
        </div>
        
        <div class="player-info opponent-info">
          <span id="opponent-name" class="player-name">–°–æ–ø–µ—Ä–Ω–∏–∫</span>
          <span id="opponent-score" class="player-score">0</span>
          <div class="swap-indicator">
            <span id="opponent-swaps">‚ö°‚ö°‚ö°</span>
          </div>
        </div>
      </div>
      
      <div class="battlefield">
        <!-- Opponent's area -->
        <div class="opponent-area">
          <div class="card-row opponent-cards" id="opponent-cards">
            <!-- Opponent cards (face down) -->
          </div>
        </div>
        
        <!-- Center battle area -->
        <div class="battle-center">
          <div class="battle-card-slot player-battle" id="player-battle-card">
            <div class="card card-back"></div>
          </div>
          <div class="vs-indicator">VS</div>
          <div class="battle-card-slot opponent-battle" id="opponent-battle-card">
            <div class="card card-back"></div>
          </div>
        </div>
        
        <!-- Player's area -->
        <div class="player-area">
          <div class="card-row player-cards" id="player-cards">
            <!-- Player cards -->
          </div>
        </div>
      </div>
      
      <div class="action-bar fixed-footer game-footer">
        <button id="swap-btn" class="btn btn-action">
          üîÑ –°–≤–∞–ø
        </button>
        <button id="skip-btn" class="btn btn-secondary">
          ‚è≠ –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å
        </button>
      </div>
      
      <!-- Round result overlay -->
      <div id="round-result" class="result-overlay hidden">
        <div class="result-content">
          <h2 id="result-title">–†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
          <div class="result-cards">
            <div class="result-card-container">
              <span id="result-player-name" class="result-card-label">–í—ã</span>
              <div id="result-player-card" class="result-card-slot"></div>
            </div>
            <span class="result-vs">VS</span>
            <div class="result-card-container">
              <span id="result-opponent-name" class="result-card-label">–°–æ–ø–µ—Ä–Ω–∏–∫</span>
              <div id="result-opponent-card" class="result-card-slot"></div>
            </div>
          </div>
          <p id="result-message"></p>
          <p id="result-wait-text" class="result-wait-text">–û–∂–∏–¥–∞–Ω–∏–µ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞... <span id="result-countdown">5</span>—Å</p>
          <button id="continue-btn" class="btn btn-primary">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- Game Over Screen -->
    <div id="gameover-screen" class="screen">
      <div class="gameover-container">
        <div id="gameover-icon" class="gameover-icon">üèÜ</div>
        <h1 id="gameover-title">–ü–æ–±–µ–¥–∞!</h1>
        <p id="gameover-score" class="gameover-score">3 : 2</p>
        <p id="gameover-message" class="gameover-message"></p>
        
        <div class="round-history" id="round-history">
          <!-- Round history will be populated -->
        </div>
        
        <button id="play-again-btn" class="btn btn-primary btn-large">
          –ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞
        </button>
      </div>
    </div>

    <!-- Disconnection overlay -->
    <div id="disconnect-overlay" class="overlay hidden">
      <div class="overlay-content">
        <div class="loader"></div>
        <h2>–°–æ–ø–µ—Ä–Ω–∏–∫ –æ—Ç–∫–ª—é—á–∏–ª—Å—è</h2>
        <p>–û–∂–∏–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: <span id="reconnect-timer">120</span>—Å</p>
        <button id="leave-game-btn" class="btn btn-secondary btn-small">–ü–æ–∫–∏–Ω—É—Ç—å –∏–≥—Ä—É</button>
      </div>
    </div>

    <!-- Rules popup -->
    <div id="rules-popup" class="popup-overlay hidden">
      <div class="popup-content rules-popup">
        <button id="rules-close" class="popup-close">‚úï</button>
        <h2>üìñ –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã</h2>
        
        <div class="rules-section">
          <h3>üéØ –¶–µ–ª—å –∏–≥—Ä—ã</h3>
          <p>–í—ã–∏–≥—Ä–∞—Ç—å –±–æ–ª—å—à–µ —Ä–∞—É–Ω–¥–æ–≤ –∏–∑ 6, –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞—Å—Å—Ç–∞–≤–∏–≤ –∫–∞—Ä—Ç—ã –∏ –∏—Å–ø–æ–ª—å–∑—É—è —Å–≤–∞–ø—ã.</p>
        </div>
        
        <div class="rules-section">
          <h3>üÉè –ö–∞—Ä—Ç—ã</h3>
          <p>–í –∫–æ–ª–æ–¥–µ 9 –∫–∞—Ä—Ç: –ø–æ 3 –∫–∞—Ä—Ç—ã –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ (–ö–∞–º–µ–Ω—å, –ù–æ–∂–Ω–∏—Ü—ã, –ë—É–º–∞–≥–∞). –ò–∑ –Ω–∏—Ö —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –≤—ã–±–∏—Ä–∞—é—Ç—Å—è 6 –∫–∞—Ä—Ç ‚Äî —ç—Ç–æ —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä –∏–≥—Ä–æ–∫–∞.</p>
          <ul>
            <li>ü™® <strong>–ö–∞–º–µ–Ω—å</strong> –ø–æ–±–µ–∂–¥–∞–µ—Ç ‚úÇÔ∏è –ù–æ–∂–Ω–∏—Ü—ã</li>
            <li>‚úÇÔ∏è <strong>–ù–æ–∂–Ω–∏—Ü—ã</strong> –ø–æ–±–µ–∂–¥–∞—é—Ç üìÑ –ë—É–º–∞–≥—É</li>
            <li>üìÑ <strong>–ë—É–º–∞–≥–∞</strong> –ø–æ–±–µ–∂–¥–∞–µ—Ç ü™® –ö–∞–º–µ–Ω—å</li>
          </ul>
        </div>
        
        <div class="rules-section">
          <h3>üîÑ –•–æ–¥ –∏–≥—Ä—ã</h3>
          
          <p><strong>1. –≠—Ç–∞–ø –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏</strong></p>
          <p>–û–±–∞ –∏–≥—Ä–æ–∫–∞ –≤–∏–¥—è—Ç —Å–≤–æ–∏ –∫–∞—Ä—Ç—ã –∏ –∫–∞—Ä—Ç—ã —Å–æ–ø–µ—Ä–Ω–∏–∫–∞. –≠—Ç–æ –≤—Ä–µ–º—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏. –ù–∞–∂–º–∏—Ç–µ ¬´–ì–æ—Ç–æ–≤¬ª, –∫–æ–≥–¥–∞ –∏–∑—É—á–∏—Ç–µ –∫–∞—Ä—Ç—ã.</p>
          
          <p><strong>2. –≠—Ç–∞–ø —Å–æ–∑–¥–∞–Ω–∏—è —Ä—É–∫–∏</strong></p>
          <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∫–∞—Ä—Ç—ã –≤ —Å–ª–æ—Ç—ã, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –∏–≥—Ä—ã. –ü–µ—Ä–≤–∞—è –∫–∞—Ä—Ç–∞ –±—É–¥–µ—Ç —Å—ã–≥—Ä–∞–Ω–∞ –≤ 1-–º —Ä–∞—É–Ω–¥–µ, –≤—Ç–æ—Ä–∞—è ‚Äî –≤–æ 2-–º, –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –ü–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –Ω–µ–ª—å–∑—è.</p>
          
          <p><strong>3. –ò–≥—Ä–æ–≤—ã–µ —Ä–∞—É–Ω–¥—ã</strong></p>
          <p>–ò–≥—Ä–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ 6 —Ä–∞—É–Ω–¥–æ–≤. –í –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–∞—É–Ω–¥–∞ —É –≤–∞—Å –µ—Å—Ç—å –≤—Ä–µ–º—è, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —Å–≤–∞–ø –∏–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ö–æ–¥. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–∞—Ä—Ç—ã –æ–±–æ–∏—Ö –∏–≥—Ä–æ–∫–æ–≤ —Ä–∞—Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—å —Ä–∞—É–Ω–¥–∞.</p>
        </div>
        
        <div class="rules-section">
          <h3>‚ö° –°–≤–∞–ø—ã</h3>
          <p>–£ –≤–∞—Å –µ—Å—Ç—å <strong>3 —Å–≤–∞–ø–∞</strong> –∑–∞ –≤—Å—é –∏–≥—Ä—É. –°–≤–∞–ø –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–º–µ–Ω—è—Ç—å –º–µ—Å—Ç–∞–º–∏ –¥–≤–µ —Å–æ—Å–µ–¥–Ω–∏–µ –∫–∞—Ä—Ç—ã –ø–µ—Ä–µ–¥ —Ä–∞—É–Ω–¥–æ–º. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö —Å —É–º–æ–º!</p>
        </div>
        
        <div class="rules-section">
          <h3>üèÜ –ü–æ–±–µ–¥–∞</h3>
          <p>–ü–æ–±–µ–∂–¥–∞–µ—Ç –∏–≥—Ä–æ–∫, –≤—ã–∏–≥—Ä–∞–≤—à–∏–π –±–æ–ª—å—à–µ —Ä–∞—É–Ω–¥–æ–≤. –ü—Ä–∏ —Ä–∞–≤–Ω–æ–º —Å—á—ë—Ç–µ ‚Äî –Ω–∏—á—å—è.</p>
        </div>
      </div>
    </div>

    <!-- Notification toast -->
    <div id="toast" class="toast hidden"></div>
    
    <!-- Room and User ID display -->
    <div class="id-display-container">
      <div id="room-id-display" class="room-id-display"></div>
      <div id="user-id-display" class="user-id-display"></div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="js/socket.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/dragdrop.js"></script>
  <script src="js/game.js"></script>
  <script src="js/app.js"></script>
</body>
</html>

